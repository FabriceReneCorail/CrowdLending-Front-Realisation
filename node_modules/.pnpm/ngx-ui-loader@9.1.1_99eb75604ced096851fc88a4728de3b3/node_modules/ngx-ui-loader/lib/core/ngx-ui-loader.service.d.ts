import { Observable } from 'rxjs';
import { NgxUiLoaderConfig } from '../utils/interfaces';
import { Loaders, Loader, ShowEvent, Time } from '../utils/interfaces';
import * as ɵngcc0 from '@angular/core';
export declare class NgxUiLoaderService {
    private config;
    /**
     * For internal use only.
     * @docs-private
     */
    backgroundClosing$: Observable<ShowEvent>;
    /**
     * For internal use only.
     * @docs-private
     */
    foregroundClosing$: Observable<ShowEvent>;
    /**
     * For internal use only.
     * @docs-private
     */
    showBackground$: Observable<ShowEvent>;
    /**
     * For internal use only.
     * @docs-private
     */
    showForeground$: Observable<ShowEvent>;
    private bgClosing;
    private defaultConfig;
    private fgClosing;
    private loaders;
    private showBackground;
    private showForeground;
    /**
     * Constructor
     */
    constructor(config: NgxUiLoaderConfig);
    /**
     * For internal use only.
     * @docs-private
     */
    bindLoaderData(loaderId: string): void;
    /**
     * For internal use only.
     * @docs-private
     */
    destroyLoaderData(loaderId: string): void;
    /**
     * Get default loader configuration
     * @returns default configuration object
     */
    getDefaultConfig(): NgxUiLoaderConfig;
    /**
     * Get all the loaders
     */
    getLoaders(): Loaders;
    /**
     * Get data of a specified loader. If loaderId is not provided, it will return data of
     * master loader(if existed). Otherwise null is returned.
     */
    getLoader(loaderId?: string): Loader;
    /**
     * Start the foreground loading of loader having `loaderId` with a specified `taskId`.
     * The loading is only closed off when all taskIds of that loader are called with stopLoader() method.
     * @param loaderId the loader Id
     * @param taskId the optional task Id of the loading. taskId is set to 'fd-default' by default.
     */
    startLoader(loaderId: string, taskId?: string, time?: Time): void;
    /**
     * Start the foreground loading of master loader with a specified `taskId`.
     * The loading is only closed off when all taskIds of that loader are called with stop() method.
     * NOTE: Really this function just wraps startLoader() function
     * @param taskId the optional task Id of the loading. taskId is set to 'fd-default' by default.
     */
    start(taskId?: string, time?: Time): void;
    /**
     * Start the background loading of loader having `loaderId` with a specified `taskId`.
     * The loading is only closed off when all taskIds of that loader are called with stopLoaderBackground() method.
     * @param loaderId the loader Id
     * @param taskId the optional task Id of the loading. taskId is set to 'bg-default' by default.
     */
    startBackgroundLoader(loaderId: string, taskId?: string, time?: Time): void;
    /**
     * Start the background loading of master loader with a specified `taskId`.
     * The loading is only closed off when all taskIds of that loader are called with stopBackground() method.
     * NOTE: Really this function just wraps startBackgroundLoader() function
     * @param taskId the optional task Id of the loading. taskId is set to 'bg-default' by default.
     */
    startBackground(taskId?: string, time?: Time): void;
    /**
     * Stop a foreground loading of loader having `loaderId` with specific `taskId`
     * @param loaderId the loader Id
     * @param taskId the optional task Id to stop. If not provided, 'fg-default' is used.
     * @returns Object
     */
    stopLoader(loaderId: string, taskId?: string): void;
    /**
     * Stop a foreground loading of master loader with specific `taskId`
     * @param taskId the optional task Id to stop. If not provided, 'fg-default' is used.
     * @returns Object
     */
    stop(taskId?: string): void;
    /**
     * Stop a background loading of loader having `loaderId` with specific `taskId`
     * @param loaderId the loader Id
     * @param taskId the optional task Id to stop. If not provided, 'bg-default' is used.
     * @returns Object
     */
    stopBackgroundLoader(loaderId: string, taskId?: string): void;
    /**
     * Stop a background loading of master loader with specific taskId
     * @param taskId the optional task Id to stop. If not provided, 'bg-default' is used.
     * @returns Object
     */
    stopBackground(taskId?: string): void;
    /**
     * Stop all the background and foreground loadings of loader having `loaderId`
     * @param loaderId the loader Id
     */
    stopAllLoader(loaderId: string): void;
    /**
     * Stop all the background and foreground loadings of master loader
     */
    stopAll(): void;
    /**
     * Create loader data if it does not exist
     * @docs-private
     */
    private createLoaderData;
    /**
     * Manage to close foreground loading
     * @docs-private
     * @param loaderId the loader id
     */
    private foregroundCloseout;
    /**
     * Manage to close background loading
     * @docs-private
     * @param loaderId the loader id
     */
    private backgroundCloseout;
    /**
     * Clear all timers of the given task
     * @docs-private
     */
    private clearTimers;
    /**
     * Clear all timers of the given tasks
     * @docs-private
     */
    private clearAllTimers;
    /**
     * Check whether the specified loader has a running task with the given `taskId`.
     * If no `taskId` specified, it will check whether the loader has any running tasks.
     * For internal use only.
     * @docs-private
     * @param isForeground foreground task or background task
     * @param loaderId the loader Id
     * @param taskId the optional task Id
     * @returns boolean
     */
    hasRunningTask(isForeground: boolean, loaderId: string, taskId?: string): boolean;
    /**
     * @docs-private
     */
    private readyToStart;
    /**
     * @docs-private
     */
    private readyToStop;
    /**
     * Set delay timer, if `delay` > 0
     * @docs-private
     * @returns boolean
     */
    private setDelayTimer;
    /**
     * Set maxTimer if `maxTime` > `minTime`
     * @docs-private
     * @returns boolean
     */
    private setMaxTimer;
    /**
     * Set minTimer if `startAt` + `minTime` > `Date.now()`
     * @docs-private
     * @returns boolean
     */
    private setMinTimer;
    static ɵfac: ɵngcc0.ɵɵFactoryDef<NgxUiLoaderService, [{ optional: true; }]>;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVpLWxvYWRlci5zZXJ2aWNlLmQudHMiLCJzb3VyY2VzIjpbIm5neC11aS1sb2FkZXIuc2VydmljZS5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBOZ3hVaUxvYWRlckNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTG9hZGVycywgTG9hZGVyLCBTaG93RXZlbnQsIFRpbWUgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE5neFVpTG9hZGVyU2VydmljZSB7XG4gICAgcHJpdmF0ZSBjb25maWc7XG4gICAgLyoqXG4gICAgICogRm9yIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAqIEBkb2NzLXByaXZhdGVcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kQ2xvc2luZyQ6IE9ic2VydmFibGU8U2hvd0V2ZW50PjtcbiAgICAvKipcbiAgICAgKiBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gICAgICogQGRvY3MtcHJpdmF0ZVxuICAgICAqL1xuICAgIGZvcmVncm91bmRDbG9zaW5nJDogT2JzZXJ2YWJsZTxTaG93RXZlbnQ+O1xuICAgIC8qKlxuICAgICAqIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAgICAgKiBAZG9jcy1wcml2YXRlXG4gICAgICovXG4gICAgc2hvd0JhY2tncm91bmQkOiBPYnNlcnZhYmxlPFNob3dFdmVudD47XG4gICAgLyoqXG4gICAgICogRm9yIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAqIEBkb2NzLXByaXZhdGVcbiAgICAgKi9cbiAgICBzaG93Rm9yZWdyb3VuZCQ6IE9ic2VydmFibGU8U2hvd0V2ZW50PjtcbiAgICBwcml2YXRlIGJnQ2xvc2luZztcbiAgICBwcml2YXRlIGRlZmF1bHRDb25maWc7XG4gICAgcHJpdmF0ZSBmZ0Nsb3Npbmc7XG4gICAgcHJpdmF0ZSBsb2FkZXJzO1xuICAgIHByaXZhdGUgc2hvd0JhY2tncm91bmQ7XG4gICAgcHJpdmF0ZSBzaG93Rm9yZWdyb3VuZDtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogTmd4VWlMb2FkZXJDb25maWcpO1xuICAgIC8qKlxuICAgICAqIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAgICAgKiBAZG9jcy1wcml2YXRlXG4gICAgICovXG4gICAgYmluZExvYWRlckRhdGEobG9hZGVySWQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogRm9yIGludGVybmFsIHVzZSBvbmx5LlxuICAgICAqIEBkb2NzLXByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95TG9hZGVyRGF0YShsb2FkZXJJZDogc3RyaW5nKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBHZXQgZGVmYXVsdCBsb2FkZXIgY29uZmlndXJhdGlvblxuICAgICAqIEByZXR1cm5zIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKi9cbiAgICBnZXREZWZhdWx0Q29uZmlnKCk6IE5neFVpTG9hZGVyQ29uZmlnO1xuICAgIC8qKlxuICAgICAqIEdldCBhbGwgdGhlIGxvYWRlcnNcbiAgICAgKi9cbiAgICBnZXRMb2FkZXJzKCk6IExvYWRlcnM7XG4gICAgLyoqXG4gICAgICogR2V0IGRhdGEgb2YgYSBzcGVjaWZpZWQgbG9hZGVyLiBJZiBsb2FkZXJJZCBpcyBub3QgcHJvdmlkZWQsIGl0IHdpbGwgcmV0dXJuIGRhdGEgb2ZcbiAgICAgKiBtYXN0ZXIgbG9hZGVyKGlmIGV4aXN0ZWQpLiBPdGhlcndpc2UgbnVsbCBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBnZXRMb2FkZXIobG9hZGVySWQ/OiBzdHJpbmcpOiBMb2FkZXI7XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGZvcmVncm91bmQgbG9hZGluZyBvZiBsb2FkZXIgaGF2aW5nIGBsb2FkZXJJZGAgd2l0aCBhIHNwZWNpZmllZCBgdGFza0lkYC5cbiAgICAgKiBUaGUgbG9hZGluZyBpcyBvbmx5IGNsb3NlZCBvZmYgd2hlbiBhbGwgdGFza0lkcyBvZiB0aGF0IGxvYWRlciBhcmUgY2FsbGVkIHdpdGggc3RvcExvYWRlcigpIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gbG9hZGVySWQgdGhlIGxvYWRlciBJZFxuICAgICAqIEBwYXJhbSB0YXNrSWQgdGhlIG9wdGlvbmFsIHRhc2sgSWQgb2YgdGhlIGxvYWRpbmcuIHRhc2tJZCBpcyBzZXQgdG8gJ2ZkLWRlZmF1bHQnIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgc3RhcnRMb2FkZXIobG9hZGVySWQ6IHN0cmluZywgdGFza0lkPzogc3RyaW5nLCB0aW1lPzogVGltZSk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIGZvcmVncm91bmQgbG9hZGluZyBvZiBtYXN0ZXIgbG9hZGVyIHdpdGggYSBzcGVjaWZpZWQgYHRhc2tJZGAuXG4gICAgICogVGhlIGxvYWRpbmcgaXMgb25seSBjbG9zZWQgb2ZmIHdoZW4gYWxsIHRhc2tJZHMgb2YgdGhhdCBsb2FkZXIgYXJlIGNhbGxlZCB3aXRoIHN0b3AoKSBtZXRob2QuXG4gICAgICogTk9URTogUmVhbGx5IHRoaXMgZnVuY3Rpb24ganVzdCB3cmFwcyBzdGFydExvYWRlcigpIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHRhc2tJZCB0aGUgb3B0aW9uYWwgdGFzayBJZCBvZiB0aGUgbG9hZGluZy4gdGFza0lkIGlzIHNldCB0byAnZmQtZGVmYXVsdCcgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBzdGFydCh0YXNrSWQ/OiBzdHJpbmcsIHRpbWU/OiBUaW1lKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBTdGFydCB0aGUgYmFja2dyb3VuZCBsb2FkaW5nIG9mIGxvYWRlciBoYXZpbmcgYGxvYWRlcklkYCB3aXRoIGEgc3BlY2lmaWVkIGB0YXNrSWRgLlxuICAgICAqIFRoZSBsb2FkaW5nIGlzIG9ubHkgY2xvc2VkIG9mZiB3aGVuIGFsbCB0YXNrSWRzIG9mIHRoYXQgbG9hZGVyIGFyZSBjYWxsZWQgd2l0aCBzdG9wTG9hZGVyQmFja2dyb3VuZCgpIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gbG9hZGVySWQgdGhlIGxvYWRlciBJZFxuICAgICAqIEBwYXJhbSB0YXNrSWQgdGhlIG9wdGlvbmFsIHRhc2sgSWQgb2YgdGhlIGxvYWRpbmcuIHRhc2tJZCBpcyBzZXQgdG8gJ2JnLWRlZmF1bHQnIGJ5IGRlZmF1bHQuXG4gICAgICovXG4gICAgc3RhcnRCYWNrZ3JvdW5kTG9hZGVyKGxvYWRlcklkOiBzdHJpbmcsIHRhc2tJZD86IHN0cmluZywgdGltZT86IFRpbWUpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBiYWNrZ3JvdW5kIGxvYWRpbmcgb2YgbWFzdGVyIGxvYWRlciB3aXRoIGEgc3BlY2lmaWVkIGB0YXNrSWRgLlxuICAgICAqIFRoZSBsb2FkaW5nIGlzIG9ubHkgY2xvc2VkIG9mZiB3aGVuIGFsbCB0YXNrSWRzIG9mIHRoYXQgbG9hZGVyIGFyZSBjYWxsZWQgd2l0aCBzdG9wQmFja2dyb3VuZCgpIG1ldGhvZC5cbiAgICAgKiBOT1RFOiBSZWFsbHkgdGhpcyBmdW5jdGlvbiBqdXN0IHdyYXBzIHN0YXJ0QmFja2dyb3VuZExvYWRlcigpIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHRhc2tJZCB0aGUgb3B0aW9uYWwgdGFzayBJZCBvZiB0aGUgbG9hZGluZy4gdGFza0lkIGlzIHNldCB0byAnYmctZGVmYXVsdCcgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICBzdGFydEJhY2tncm91bmQodGFza0lkPzogc3RyaW5nLCB0aW1lPzogVGltZSk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogU3RvcCBhIGZvcmVncm91bmQgbG9hZGluZyBvZiBsb2FkZXIgaGF2aW5nIGBsb2FkZXJJZGAgd2l0aCBzcGVjaWZpYyBgdGFza0lkYFxuICAgICAqIEBwYXJhbSBsb2FkZXJJZCB0aGUgbG9hZGVyIElkXG4gICAgICogQHBhcmFtIHRhc2tJZCB0aGUgb3B0aW9uYWwgdGFzayBJZCB0byBzdG9wLiBJZiBub3QgcHJvdmlkZWQsICdmZy1kZWZhdWx0JyBpcyB1c2VkLlxuICAgICAqIEByZXR1cm5zIE9iamVjdFxuICAgICAqL1xuICAgIHN0b3BMb2FkZXIobG9hZGVySWQ6IHN0cmluZywgdGFza0lkPzogc3RyaW5nKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBTdG9wIGEgZm9yZWdyb3VuZCBsb2FkaW5nIG9mIG1hc3RlciBsb2FkZXIgd2l0aCBzcGVjaWZpYyBgdGFza0lkYFxuICAgICAqIEBwYXJhbSB0YXNrSWQgdGhlIG9wdGlvbmFsIHRhc2sgSWQgdG8gc3RvcC4gSWYgbm90IHByb3ZpZGVkLCAnZmctZGVmYXVsdCcgaXMgdXNlZC5cbiAgICAgKiBAcmV0dXJucyBPYmplY3RcbiAgICAgKi9cbiAgICBzdG9wKHRhc2tJZD86IHN0cmluZyk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogU3RvcCBhIGJhY2tncm91bmQgbG9hZGluZyBvZiBsb2FkZXIgaGF2aW5nIGBsb2FkZXJJZGAgd2l0aCBzcGVjaWZpYyBgdGFza0lkYFxuICAgICAqIEBwYXJhbSBsb2FkZXJJZCB0aGUgbG9hZGVyIElkXG4gICAgICogQHBhcmFtIHRhc2tJZCB0aGUgb3B0aW9uYWwgdGFzayBJZCB0byBzdG9wLiBJZiBub3QgcHJvdmlkZWQsICdiZy1kZWZhdWx0JyBpcyB1c2VkLlxuICAgICAqIEByZXR1cm5zIE9iamVjdFxuICAgICAqL1xuICAgIHN0b3BCYWNrZ3JvdW5kTG9hZGVyKGxvYWRlcklkOiBzdHJpbmcsIHRhc2tJZD86IHN0cmluZyk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogU3RvcCBhIGJhY2tncm91bmQgbG9hZGluZyBvZiBtYXN0ZXIgbG9hZGVyIHdpdGggc3BlY2lmaWMgdGFza0lkXG4gICAgICogQHBhcmFtIHRhc2tJZCB0aGUgb3B0aW9uYWwgdGFzayBJZCB0byBzdG9wLiBJZiBub3QgcHJvdmlkZWQsICdiZy1kZWZhdWx0JyBpcyB1c2VkLlxuICAgICAqIEByZXR1cm5zIE9iamVjdFxuICAgICAqL1xuICAgIHN0b3BCYWNrZ3JvdW5kKHRhc2tJZD86IHN0cmluZyk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogU3RvcCBhbGwgdGhlIGJhY2tncm91bmQgYW5kIGZvcmVncm91bmQgbG9hZGluZ3Mgb2YgbG9hZGVyIGhhdmluZyBgbG9hZGVySWRgXG4gICAgICogQHBhcmFtIGxvYWRlcklkIHRoZSBsb2FkZXIgSWRcbiAgICAgKi9cbiAgICBzdG9wQWxsTG9hZGVyKGxvYWRlcklkOiBzdHJpbmcpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFN0b3AgYWxsIHRoZSBiYWNrZ3JvdW5kIGFuZCBmb3JlZ3JvdW5kIGxvYWRpbmdzIG9mIG1hc3RlciBsb2FkZXJcbiAgICAgKi9cbiAgICBzdG9wQWxsKCk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGxvYWRlciBkYXRhIGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgICogQGRvY3MtcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgY3JlYXRlTG9hZGVyRGF0YTtcbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdG8gY2xvc2UgZm9yZWdyb3VuZCBsb2FkaW5nXG4gICAgICogQGRvY3MtcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBsb2FkZXJJZCB0aGUgbG9hZGVyIGlkXG4gICAgICovXG4gICAgcHJpdmF0ZSBmb3JlZ3JvdW5kQ2xvc2VvdXQ7XG4gICAgLyoqXG4gICAgICogTWFuYWdlIHRvIGNsb3NlIGJhY2tncm91bmQgbG9hZGluZ1xuICAgICAqIEBkb2NzLXByaXZhdGVcbiAgICAgKiBAcGFyYW0gbG9hZGVySWQgdGhlIGxvYWRlciBpZFxuICAgICAqL1xuICAgIHByaXZhdGUgYmFja2dyb3VuZENsb3Nlb3V0O1xuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCB0aW1lcnMgb2YgdGhlIGdpdmVuIHRhc2tcbiAgICAgKiBAZG9jcy1wcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjbGVhclRpbWVycztcbiAgICAvKipcbiAgICAgKiBDbGVhciBhbGwgdGltZXJzIG9mIHRoZSBnaXZlbiB0YXNrc1xuICAgICAqIEBkb2NzLXByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGNsZWFyQWxsVGltZXJzO1xuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBsb2FkZXIgaGFzIGEgcnVubmluZyB0YXNrIHdpdGggdGhlIGdpdmVuIGB0YXNrSWRgLlxuICAgICAqIElmIG5vIGB0YXNrSWRgIHNwZWNpZmllZCwgaXQgd2lsbCBjaGVjayB3aGV0aGVyIHRoZSBsb2FkZXIgaGFzIGFueSBydW5uaW5nIHRhc2tzLlxuICAgICAqIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAgICAgKiBAZG9jcy1wcml2YXRlXG4gICAgICogQHBhcmFtIGlzRm9yZWdyb3VuZCBmb3JlZ3JvdW5kIHRhc2sgb3IgYmFja2dyb3VuZCB0YXNrXG4gICAgICogQHBhcmFtIGxvYWRlcklkIHRoZSBsb2FkZXIgSWRcbiAgICAgKiBAcGFyYW0gdGFza0lkIHRoZSBvcHRpb25hbCB0YXNrIElkXG4gICAgICogQHJldHVybnMgYm9vbGVhblxuICAgICAqL1xuICAgIGhhc1J1bm5pbmdUYXNrKGlzRm9yZWdyb3VuZDogYm9vbGVhbiwgbG9hZGVySWQ6IHN0cmluZywgdGFza0lkPzogc3RyaW5nKTogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBAZG9jcy1wcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkeVRvU3RhcnQ7XG4gICAgLyoqXG4gICAgICogQGRvY3MtcHJpdmF0ZVxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZHlUb1N0b3A7XG4gICAgLyoqXG4gICAgICogU2V0IGRlbGF5IHRpbWVyLCBpZiBgZGVsYXlgID4gMFxuICAgICAqIEBkb2NzLXByaXZhdGVcbiAgICAgKiBAcmV0dXJucyBib29sZWFuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXREZWxheVRpbWVyO1xuICAgIC8qKlxuICAgICAqIFNldCBtYXhUaW1lciBpZiBgbWF4VGltZWAgPiBgbWluVGltZWBcbiAgICAgKiBAZG9jcy1wcml2YXRlXG4gICAgICogQHJldHVybnMgYm9vbGVhblxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0TWF4VGltZXI7XG4gICAgLyoqXG4gICAgICogU2V0IG1pblRpbWVyIGlmIGBzdGFydEF0YCArIGBtaW5UaW1lYCA+IGBEYXRlLm5vdygpYFxuICAgICAqIEBkb2NzLXByaXZhdGVcbiAgICAgKiBAcmV0dXJucyBib29sZWFuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXRNaW5UaW1lcjtcbn1cbiJdfQ==