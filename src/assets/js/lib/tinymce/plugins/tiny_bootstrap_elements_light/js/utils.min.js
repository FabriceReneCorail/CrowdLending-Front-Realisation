"use strict";function makeResponsive(){$("body",context).width()<768&&$(".container",context).addClass("container-xs")}function getBootstrapStyles(){var t,e,a,n;t=e=$(context).css("background-color"),t.match(/rgb(255, 255, 255)/)?$("body",context).css("background-color","#fafafa"):(t=shadeRGBColor(t,.07),a=shadeRGBColor(t,-.2),n=shadeRGBColor(t,.3),$("body",context).css("background-color",t),$(".choice-title, #preview-title, #code-title",context).css("border-top-color",a),$("<style>.choice-title:after, #preview-title:after, #code-title:after{border-top-color: "+n+"}</style>").appendTo("head",context),$("#preview",context).css("background-color",e))}function shadeRGBColor(t,e){var a=t.split(","),n=0>e?0:255,o=0>e?-1*e:e,r=parseInt(a[0].slice(4)),s=parseInt(a[1]),i=parseInt(a[2]);return"rgb("+(Math.round((n-r)*o)+r)+","+(Math.round((n-s)*o)+s)+","+(Math.round((n-i)*o)+i)+")"}function toggleBtn(t){return $(t,context).find(".btn").toggleClass("active"),$(t,context).find(".btn").toggleClass("btn-success"),$(t,context).find(".btn").toggleClass("btn-default"),"true"==$(t,context).find(".active").attr("data-attr")?!0:!1}function toggleAllBtns(t,e){return $(t,context).each(function(){e?($(this).find('button[data-attr="false"]').addClass("active").removeClass("btn-default").addClass("btn-success"),$(this).find('button[data-attr="true"]').removeClass("active").removeClass("btn-success").addClass("btn-default")):($(this).find('button[data-attr="true"]').addClass("active").removeClass("btn-default").addClass("btn-success"),$(this).find('button[data-attr="false"]').removeClass("active").removeClass("btn-success").addClass("btn-default"))}),$(t,context).find(".btn").toggleClass("active"),$(t,context).find(".btn").toggleClass("btn-success"),$(t,context).find(".btn").toggleClass("btn-default"),"true"==$(t,context).find(".active").attr("data-attr")?!0:!1}function getCode(t){var e;return e=$(window.parent.document.body).find(".mce-tinymce-inline")[0]?$(window.parent.document.body).find(".mce-edit-focus").find(t).clone().wrap("<div>").parent().html():$(window.parent.document.body).find("iframe").contents().find(t).clone().wrap("<div>").parent().html()}function updateCode(){var t=$("#test-wrapper",context).html();$("<div>").html(t).find("table.table").length>0&&"new-table"==$("<div>").html(t).find("table.table").attr("data-attr")&&(t=$("<div>").html(t).find("th, td").text("").closest("div").html());for(var e=new Array(/\s?data-mce-[a-z]+="[^"]+"/g),a=new Array("","","","",""),n=e.length-1;n>=0;n--)t=t.replace(e[n],a[n]);var o=new Array(["class"]),r=new Array(["span"]);$("#test-wrapper",context).hasClass("test-icon-wrapper")?(o.push(["style"]),t="&nbsp;"+$.trim(escapeHtml($.htmlClean(t,{format:!0,allowedAttributes:o,allowEmpty:r})))):t=$.trim(escapeHtml($.htmlClean(t,{format:!0,allowedAttributes:o,allowEmpty:r}))),$("#code-wrapper",context).html('<pre class="prettyprint">'+t+"</pre>"),prettyPrint(),parent.document.getElementById("bs-code").value=t}function escapeHtml(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,function(t){return e[t]})}$("#code-slide-link",context).on("click",function(){$("#code-wrapper",context).slideToggle(400,function(){return"block"==$("#code-wrapper",context).css("display")?$("#code-title a i",context).removeClass("glyphicon-arrow-down").addClass("glyphicon-arrow-up"):$("#code-title a i",context).removeClass("glyphicon-arrow-up").addClass("glyphicon-arrow-down"),!1})}),function(t){var e,a=t();t.fn.sortable=function(n){var o,r=String(n);return n=t.extend({connectWith:!1,calllback:function(){}},n),this.each(function(){if(/^enable|disable|destroy$/.test(r))return o=t(this).children(t(this).data("items")).attr("draggable","enable"==r),void("destroy"==r&&o.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"));var s,i;o=t(this).children(n.items);var d=t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');o.find(n.handle).mousedown(function(){s=!0}).mouseup(function(){s=!1}),t(this).data("items",n.items),a=a.add(d),n.connectWith&&t(n.connectWith).add(this).data("connectWith",n.connectWith),o.attr("draggable","true").on("dragstart.h5s",function(a){if(n.handle&&!s)return!1;s=!1;var o=a.originalEvent.dataTransfer;o.effectAllowed="move",o.setData("Text","dummy"),i=(e=t(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){t(this).hasClass("sortable-dragging")&&(e.removeClass("sortable-dragging").show(),a.detach(),n.callback.call(this)),e=null}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,d]).on("dragover.h5s dragenter.h5s drop.h5s",function(r){return o.is(e)||n.connectWith===t(e).parent().data("connectWith")?"drop"==r.type?(r.stopPropagation(),a.filter(":visible").after(e),!1):(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",o.is(this)?(n.forcePlaceholderSize&&d.height(e.outerHeight()),e.hide(),t(this)[d.index()<t(this).index()?"after":"before"](d),a.not(d).detach()):a.is(this)||t(this).children(n.items).length||(a.detach(),t(this).append(d)),!1):!0})})}}(jQuery),$.fn.scrollToTop=function(){this.length>0&&$("body, html",context).animate({scrollTop:$(this).offset().top},500)};